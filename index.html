<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fookàmon Traduction</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f0ffff;
      transition: background-color 0.3s, color 0.3s;
    }

    .container {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .dark-mode-btn {
      padding: 10px 20px;
      margin-top: 15px;
      cursor: pointer;
      background-color: #333;
      color: #fff;
      border: none;
      border-radius: 5px;
    }

    body.dark-mode {
      background-color: #333;
      color: #fff;
    }

    body.dark-mode .dark-mode-btn {
      background-color: #fff;
      color: #333;
    }

    footer {
      text-align: center;
      padding: 10px;
      background-color: #f0ffff;
      width: 100%;
      box-sizing: border-box;
      font-size: 0.9em;
      color: #333;
    }

    #imageContainer img {
      width: 100px;
      height: 100px;
      margin: 10px;
      border-radius: 8px;
    }

    #audioPlayer {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Fookàmon Traduction</h1>
    <small>Ne pas inclure de caractère spéciaux ou d'accents</small>
    <input type="text" id="inputText" placeholder="Enter text here..." />
    <button onclick="translateText()">Traduire</button>
    <button onclick="toggleDarkMode()" class="dark-mode-btn">Mode Sombre</button>
    <div id="imageContainer"></div>
    <div id="pronunciationContainer" style="margin-top: 20px; font-size: 18px;"></div>
    <audio id="audioPlayer" controls style="display: none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <footer>
    <p>&copy; 2024 Fookàmon. Tous les droits sont réservés par Roman Bouchard.</p>
  </footer>

  <script>
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
    }

    // Fonction pour traduire le texte en images et en prononciation
    function translateText() { 
      const inputText = document.getElementById('inputText').value;
      const imageContainer = document.getElementById('imageContainer');
      const pronunciationContainer = document.getElementById('pronunciationContainer');
      const audioPlayer = document.getElementById('audioPlayer');
      const audioSource = document.getElementById('audioSource');
      
      // Efface les images et la prononciation précédentes
      imageContainer.innerHTML = '';
      pronunciationContainer.innerHTML = '';
      audioSource.src = '';

      let pronunciationText = ''; // Texte de prononciation

      // Boucle à travers chaque caractère du texte saisi
      for (let char of inputText.toLowerCase()) {
        const imgSrc = getImageForCharacter(char);
        const pronunciation = getPronunciationForCharacter(char);

        if (imgSrc) {
          // Crée un élément image et l'ajoute au conteneur d'images
          const img = document.createElement('img');
          img.src = imgSrc;  // Source d'image basée sur le caractère
          img.alt = char;
          imageContainer.appendChild(img);
        } else {
          console.warn(`Aucune image trouvée pour le caractère : ${char}`);
        }

        // Ajoute la prononciation du caractère au texte de prononciation
        if (pronunciation) {
          pronunciationText += pronunciation + ' ';
        }
        
        // Optionally: play pronunciation audio
        const audioPath = `${char}.mp3`; // Assuming MP3 files are named like 'a.mp3'
        if (audioExists(audioPath)) {
          audioSource.src = audioPath;
          audioPlayer.style.display = 'block';
          audioPlayer.load();
          audioPlayer.play();
        }
      }

      // Affiche la prononciation dans le conteneur
      pronunciationContainer.textContent = pronunciationText.trim();
    }

    // Function to check if the audio file exists (simple check for demonstration)
    function audioExists(path) {
      const img = new Image();
      img.src = path;
      return img.complete;
    }

    // Fonction pour obtenir le chemin de l'image pour un caractère
    function getImageForCharacter(char) {
      const charToImageMap = {
        'a': 'a.png',
        'b': 'b.png',
        'c': 'c.png',
        'd': 'd.png',
        'e': 'e.png',
        'f': 'f.png',
        'g': 'g.png',
        'h': 'h.png',
        'i': 'i.png',
        'j': 'j.png',
        'k': 'k.png',
        'l': 'l.png',
        'm': 'm.png',
        'n': 'n.png',
        'o': 'o.png',
        'p': 'p.png',
        'q': 'q.png',
        'r': 'r.png',
        's': 's.png',
        't': 't.png',
        'u': 'u.png',
        'v': 'v.png',
        'w': 'w.png',
        'x': 'x.png',
        'y': 'y.png',
        'z': 'z.png',
        '0': '0.png',
        '1': '1.png',
        '2': '2.png',
        '3': '3.png',
        '4': '4.png',
        '5': '5.png',
        '6': '6.png',
        '7': '7.png',
        '8': '8.png',
        '9': '9.png',
        ' ': 'space.png'
      };
      return charToImageMap[char] || null; // Retourne null si aucune correspondance n'est trouvée
    }

    // Fonction pour obtenir la prononciation pour un caractère
    function getPronunciationForCharacter(char) {
      const charToPronunciationMap = {
        'a': 'hè-',
        'b': 'ba-',
        'c': 'da-',
        'd': 'bo-',
        'e': 'é-',
        'f': 'è-',
        'g': 'la-',
        'h': 'lo-',
        'i': 'pi-',
        'j': 'pa-',
        'k': 'je-',
        'l': 'ja-',
        'm': 'mo-',
        'n': 'mu-',
        'o': 'do-',
        'p': 'ké-',
        'q': 'ka-',
        'r': 'ri-',
        's': 'zi-',
        't': 'ou-',
        'u': 'ille-',
        'v': 'oui-',
        'w': 'oua-',
        'x': 'ak-',
        'y': 'ik-',
        'z': 'oy-',
        '0': 'ouss-',
        '1': 'ouz-',
        '2': 'ouk-',
        '3': 'oup-',
        '4': 'oud-',
        '5': 'oub-',
        '6': 'oul-',
        '7': 'out-',
        '8': 'ouf-',
        '9': 'ouve-',
        ' ': ''
      };
      return charToPronunciationMap[char] || ''; // Retourne une chaîne vide si aucune correspondance n'est trouvée
    }
  </script>
</body>
</html>
